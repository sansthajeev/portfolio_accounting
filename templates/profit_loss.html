{% extends 'base.html' %}
{% block title %}Profit & Loss Statement{% endblock %}
{% block heading %}Profit & Loss{% endblock %}
{% block content %}

<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
  <div>
    <h2 class="font-semibold text-gray-700 mb-2">Income</h2>
    <div class="bg-white rounded shadow">
      <table class="w-full text-sm">
        {% for item in income %}
        <tr class="border-b">
          <td class="p-2">{{ item.account.name }}</td>
          <td class="p-2 text-right">Rs. {{ item.amount|floatformat:2 }}</td>
        </tr>
        {% endfor %}
        <tr class="bg-gray-100 font-semibold">
          <td class="p-2 text-right">Total Income</td>
          <td class="p-2 text-right">Rs. {{ total_income|floatformat:2 }}</td>
        </tr>
      </table>
    </div>
  </div>
  <div>
    <h2 class="font-semibold text-gray-700 mb-2">Expenses</h2>
    <div class="bg-white rounded shadow">
      <table class="w-full text-sm">
        {% for item in expenses %}
        <tr class="border-b">
          <td class="p-2">{{ item.account.name }}</td>
          <td class="p-2 text-right">Rs. {{ item.amount|floatformat:2 }}</td>
        </tr>
        {% endfor %}
        <tr class="bg-gray-100 font-semibold">
          <td class="p-2 text-right">Total Expense</td>
          <td class="p-2 text-right">Rs. {{ total_expense|floatformat:2 }}</td>
        </tr>
      </table>
    </div>
  </div>
</div>

<div class="mt-6 bg-white p-4 rounded shadow text-xl font-bold text-center">
  Net Profit: 
  <span class="{% if net_profit >= 0 %}text-green-600{% else %}text-red-600{% endif %}">
    Rs. {{ net_profit|floatformat:2 }}
  </span>
</div>

{% endblock %}
